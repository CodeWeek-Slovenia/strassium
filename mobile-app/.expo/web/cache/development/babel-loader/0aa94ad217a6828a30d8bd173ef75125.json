{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport * as Firebase from \"firebase\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport firebase from \"./firebase\";\nexport function registration(email, password, fullName) {\n  var userCreds;\n  return _regeneratorRuntime.async(function registration$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          alert('We have sent an vertification email on ' + email + ' email address. Please vertify your email.');\n          _context.next = 4;\n          return _regeneratorRuntime.awrap(firebase.auth().createUserWithEmailAndPassword(email, password));\n\n        case 4:\n          userCreds = _context.sent;\n          _context.next = 7;\n          return _regeneratorRuntime.awrap(userCreds.user.sendEmailVerification());\n\n        case 7:\n          _context.next = 9;\n          return _regeneratorRuntime.awrap(userCreds.user.updateProfile({\n            displayName: fullName\n          }));\n\n        case 9:\n          _context.next = 14;\n          break;\n\n        case 11:\n          _context.prev = 11;\n          _context.t0 = _context[\"catch\"](0);\n          Alert.alert(\"Registration failed!\", _context.t0.message);\n\n        case 14:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[0, 11]], Promise);\n}\nexport function signIn(email, password) {\n  return _regeneratorRuntime.async(function signIn$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _context2.next = 3;\n          return _regeneratorRuntime.awrap(firebase.auth().signInWithEmailAndPassword(email, password).then(function (authResult) {\n            console.log(authResult);\n\n            if (authResult.user.emailVerified == false) {\n              alert('Please vertify your email and login again.');\n              loggingOut();\n            }\n          }));\n\n        case 3:\n          _context2.next = 8;\n          break;\n\n        case 5:\n          _context2.prev = 5;\n          _context2.t0 = _context2[\"catch\"](0);\n          Alert.alert(\"Login failed!\", _context2.t0.message);\n\n        case 8:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, [[0, 5]], Promise);\n}\nexport function loggingOut() {\n  return _regeneratorRuntime.async(function loggingOut$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _context3.next = 3;\n          return _regeneratorRuntime.awrap(firebase.auth().signOut());\n\n        case 3:\n          console.log('logged out!');\n          _context3.next = 9;\n          break;\n\n        case 6:\n          _context3.prev = 6;\n          _context3.t0 = _context3[\"catch\"](0);\n          Alert.alert('Logout failed!', _context3.t0.message);\n\n        case 9:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, null, null, [[0, 6]], Promise);\n}","map":{"version":3,"sources":["C:/Users/aljaz/Main/Development/SmartFood/main/Firebase/methods.js"],"names":["Firebase","firebase","registration","email","password","fullName","alert","auth","createUserWithEmailAndPassword","userCreds","user","sendEmailVerification","updateProfile","displayName","Alert","message","signIn","signInWithEmailAndPassword","then","authResult","console","log","emailVerified","loggingOut","signOut"],"mappings":";AAAA,OAAO,KAAKA,QAAZ,MAA0B,UAA1B;;AAEA,OAAOC,QAAP;AAGA,OAAO,SAAeC,YAAf,CAA4BC,KAA5B,EAAmCC,QAAnC,EAA6CC,QAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEHC,UAAAA,KAAK,CAAC,4CAA4CH,KAA5C,GAAoD,4CAArD,CAAL;AAFG;AAAA,2CAGqBF,QAAQ,CAACM,IAAT,GAAgBC,8BAAhB,CAA+CL,KAA/C,EAAsDC,QAAtD,CAHrB;;AAAA;AAGGK,UAAAA,SAHH;AAAA;AAAA,2CAIGA,SAAS,CAACC,IAAV,CAAeC,qBAAf,EAJH;;AAAA;AAAA;AAAA,2CAKGF,SAAS,CAACC,IAAV,CAAeE,aAAf,CAA6B;AAACC,YAAAA,WAAW,EAACR;AAAb,WAA7B,CALH;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAOHS,UAAAA,KAAK,CAACR,KAAN,CAAY,sBAAZ,EAAoC,YAAIS,OAAxC;;AAPG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWP,OAAO,SAAeC,MAAf,CAAsBb,KAAtB,EAA6BC,QAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAEEH,QAAQ,CACVM,IADE,GAEFU,0BAFE,CAEyBd,KAFzB,EAEgCC,QAFhC,EAGFc,IAHE,CAGG,UAACC,UAAD,EAAgB;AACpBC,YAAAA,OAAO,CAACC,GAAR,CAAYF,UAAZ;;AACA,gBAAGA,UAAU,CAACT,IAAX,CAAgBY,aAAhB,IAAiC,KAApC,EAA0C;AACxChB,cAAAA,KAAK,CAAC,4CAAD,CAAL;AACAiB,cAAAA,UAAU;AACX;AACF,WATE,CAFF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAaHT,UAAAA,KAAK,CAACR,KAAN,CAAY,eAAZ,EAA6B,aAAIS,OAAjC;;AAbG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBP,OAAO,SAAeQ,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAEGtB,QAAQ,CAACM,IAAT,GAAgBiB,OAAhB,EAFH;;AAAA;AAGHJ,UAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AAHG;AAAA;;AAAA;AAAA;AAAA;AAKHP,UAAAA,KAAK,CAACR,KAAN,CAAY,gBAAZ,EAA8B,aAAIS,OAAlC;;AALG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA","sourcesContent":["import * as Firebase from \"firebase\";\r\nimport {Alert} from \"react-native\";\r\nimport firebase from \"./firebase\";\r\n\r\n\r\nexport async function registration(email, password, fullName) {\r\n  try {\r\n    alert('We have sent an vertification email on ' + email + ' email address. Please vertify your email.')\r\n    const userCreds = await firebase.auth().createUserWithEmailAndPassword(email, password);\r\n    await userCreds.user.sendEmailVerification();\r\n    await userCreds.user.updateProfile({displayName:fullName});\r\n  } catch (err) {\r\n    Alert.alert(\"Registration failed!\", err.message);\r\n  }\r\n}\r\n\r\nexport async function signIn(email, password) {\r\n  try {\r\n   await firebase\r\n      .auth()\r\n      .signInWithEmailAndPassword(email, password)\r\n      .then((authResult) => {\r\n        console.log(authResult);\r\n        if(authResult.user.emailVerified == false){\r\n          alert('Please vertify your email and login again.');\r\n          loggingOut();\r\n        }\r\n      })\r\n  } catch (err) {\r\n    Alert.alert(\"Login failed!\", err.message);\r\n  }\r\n}\r\n\r\nexport async function loggingOut() {\r\n  try {\r\n    await firebase.auth().signOut();\r\n    console.log('logged out!')\r\n  } catch (err) {\r\n    Alert.alert('Logout failed!', err.message);\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}