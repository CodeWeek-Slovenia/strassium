{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\aljaz\\\\Main\\\\Development\\\\SmartFood\\\\main\\\\Views\\\\Recepies.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { useState, useEffect } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { NumberInput } from \"react-native-web/dist/index\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { Picker } from '@react-native-picker/picker';\nimport { col } from \"./clr\";\nimport SomeComponent from \"./CustomBackground\";\nimport { ScrollView } from 'react-native-gesture-handler';\nimport LoadingScreen from \"./loadingScreen\";\nimport { connect, useSelector } from 'react-redux';\nimport { removeShoppingItem } from \"./reduxComponents/removeShoppingItemAction\";\nimport { bindActionCreators } from 'redux';\nvar movieURL = \"https://api.edamam.com/api/recipes/v2?type=public&q=flour&app_id=61b96bf9&app_key=a28fc7e347025174ec9cfe2ea3fcfc63&field=label&field=image&field=ingredientLines\";\n\nvar RecepiesScreen = function (_React$Component) {\n  _inherits(RecepiesScreen, _React$Component);\n\n  var _super = _createSuper(RecepiesScreen);\n\n  function RecepiesScreen(props) {\n    var _this;\n\n    _classCallCheck(this, RecepiesScreen);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      data: [],\n      isLoading: true,\n      apiKeyIndex: 0\n    };\n    return _this;\n  }\n\n  _createClass(RecepiesScreen, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var getData_ = function getData_() {\n        var fridgeIngredients = ['sugar', 'flour'];\n        var tempString = \"\";\n\n        for (var i = 0; i < fridgeIngredients.length; i++) {\n          if (i != 0) {\n            tempString += \",+\" + fridgeIngredients[i];\n          }\n        }\n\n        var apiKeyDO = '8162cc1aa99341c8bb96708d0ff5f4fb';\n        var apiKeyLV = '8402c0dff7ec4569957fbab674327b94';\n        var apiKeyAV = '82ec60ccd79449139c0e59e3cadf7de2';\n        var apiKeyAJ = '863fc421667e434a879b149b97e9ea4e';\n        var apiKeyList = [apiKeyLV, apiKeyDO, apiKeyAV, apiKeyAJ];\n        var recipeURL = 'https://api.spoonacular.com/recipes/findByIngredients?apiKey=' + apiKeyList[_this2.state.apiKeyIndex] + '&ingredients=%27' + tempString + '&number=10';\n\n        var getData1 = function getData1() {\n          try {\n            fetch(recipeURL).then(function (response) {\n              console.log(response.status);\n\n              if (response.status != 402) {\n                response.json().then(function (data) {\n                  var recipeList = [];\n\n                  for (var _i = 0; _i < 10; _i++) {\n                    var tempList = [];\n\n                    for (var y = 0; y < data[_i].usedIngredientCount; y++) {\n                      tempList.push({\n                        \"name\": data[_i].usedIngredients[y].name,\n                        \"amount\": data[_i].usedIngredients[y].amount,\n                        \"unit\": data[_i].usedIngredients[y].unit\n                      });\n                    }\n\n                    for (var _y = 0; _y < data[_i].missedIngredientCount; _y++) {\n                      tempList.push({\n                        \"name\": data[_i].missedIngredients[_y].name,\n                        \"amount\": data[_i].missedIngredients[_y].amount,\n                        \"unit\": data[_i].missedIngredients[_y].unit\n                      });\n                    }\n\n                    recipeList.push({\n                      \"title\": data[_i].title,\n                      \"img\": data[_i].image,\n                      \"ing\": tempList\n                    });\n                  }\n\n                  _this2.setState({\n                    data: recipeList,\n                    isLoading: false\n                  });\n                });\n              } else {\n                _this2.setState({\n                  apiKeyIndex: _this2.state.apiKeyIndex + 1\n                });\n\n                getData_();\n              }\n            });\n          } catch (err) {\n            console.log(err);\n          }\n        };\n\n        getData1();\n      };\n\n      getData_();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      console.log(this.props.dataReducer);\n\n      var _renderItem = function renderItem(item) {\n        var ingredients = '';\n        item.ing.forEach(function (element) {\n          ingredients = ingredients + element.name + ' [ ' + element.amount + ' ' + element.unit + ' ]' + '\\n';\n        });\n\n        var addToCart = function addToCart() {};\n\n        return React.createElement(View, {\n          style: styles.itemContainer,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 11\n          }\n        }, React.createElement(View, {\n          style: {\n            flex: 8,\n            justifyContent: 'flex-start',\n            alignItems: 'center'\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 13\n          }\n        }, React.createElement(Image, {\n          style: styles.itemImageStyle,\n          source: {\n            uri: item.img\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 15\n          }\n        })), React.createElement(View, {\n          style: {\n            flex: 1,\n            justifyContent: 'flex-start',\n            alignItems: 'center',\n            marginTop: 30\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }\n        }, React.createElement(Text, {\n          style: styles.itemTitleStyle,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 17\n          }\n        }, item.title.toString().toUpperCase())), React.createElement(View, {\n          style: {\n            flex: 4\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }\n        }, React.createElement(ScrollView, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 15\n          }\n        }, React.createElement(Text, {\n          style: styles.itemIngredientsStyle,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 17\n          }\n        }, ingredients.toUpperCase()))), React.createElement(View, {\n          style: {\n            flex: 1,\n            alignItems: 'flex-end',\n            flexDirection: 'row',\n            marginBottom: 18\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }\n        }, React.createElement(Pressable, {\n          style: {\n            flex: 1,\n            justifyContent: 'flex-start',\n            marginTop: 10,\n            marginLeft: 8\n          },\n          onPress: addToCart,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 17\n          }\n        }, React.createElement(Text, {\n          style: {\n            fontSize: 13,\n            color: col.secondaryColor\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 21\n          }\n        }, \"CART\")), React.createElement(Pressable, {\n          style: {\n            flex: 1,\n            alignItems: 'flex-end',\n            marginRight: 8\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 17\n          }\n        }, React.createElement(Text, {\n          style: {\n            fontSize: 13,\n            color: col.mainColor\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 21\n          }\n        }, \"COLLECTION\"))));\n      };\n\n      return React.createElement(SafeAreaView, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 7\n        }\n      }, this.state.isLoading ? React.createElement(LoadingScreen, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 33\n        }\n      }) : React.createElement(View, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 55\n        }\n      }, React.createElement(SomeComponent, {\n        style: {\n          flex: 1\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 13\n        }\n      }, React.createElement(FlatList, {\n        horizontal: true,\n        data: this.state.data,\n        renderItem: function renderItem(_ref) {\n          var item = _ref.item;\n          return _renderItem(item);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 17\n        }\n      }))));\n    }\n  }]);\n\n  return RecepiesScreen;\n}(React.Component);\n\n;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  itemContainer: {\n    height: \"95%\",\n    width: 350,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: col.textColorPrimary,\n    borderTopLeftRadius: 25,\n    borderTopRightRadius: 25,\n    borderBottomLeftRadius: 25,\n    borderBottomRightRadius: 25,\n    shadowColor: 'gray',\n    shadowOffset: {\n      width: 0,\n      height: 0\n    },\n    shadowOpacity: 1,\n    shadowRadius: 8,\n    elevation: 8,\n    justifyContent: 'space-between',\n    paddingLeft: 16,\n    paddingRight: 16,\n    marginTop: 15,\n    marginBottom: 20,\n    marginLeft: 21,\n    marginRight: 15\n  },\n  itemTitleContainer: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  itemImageContainer: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  itemImageStyle: {\n    width: 320,\n    height: 320,\n    borderRadius: 20,\n    marginTop: 18\n  },\n  ingredientsContainer: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  itemIngredientsStyle: {\n    color: '#D3D3D3',\n    fontSize: 13,\n    textAlign: 'center'\n  },\n  itemTitleStyle: {\n    fontSize: 20,\n    color: 'white'\n  },\n  imageStyle: {\n    width: 40,\n    height: 40\n  }\n});\n\nvar mapStateToProps = function mapStateToProps(state) {\n  var dataReducer = state.dataReducer;\n  return {\n    dataReducer: dataReducer\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    removeStorageItem: removeShoppingItem\n  }, dispatch);\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RecepiesScreen);","map":{"version":3,"sources":["C:/Users/aljaz/Main/Development/SmartFood/main/Views/Recepies.js"],"names":["React","useState","useEffect","NumberInput","Picker","col","SomeComponent","ScrollView","LoadingScreen","connect","useSelector","removeShoppingItem","bindActionCreators","movieURL","RecepiesScreen","props","state","data","isLoading","apiKeyIndex","getData_","fridgeIngredients","tempString","i","length","apiKeyDO","apiKeyLV","apiKeyAV","apiKeyAJ","apiKeyList","recipeURL","getData1","fetch","then","response","console","log","status","json","recipeList","tempList","y","usedIngredientCount","push","usedIngredients","name","amount","unit","missedIngredientCount","missedIngredients","title","image","setState","err","dataReducer","renderItem","item","ingredients","ing","forEach","element","addToCart","styles","itemContainer","flex","justifyContent","alignItems","itemImageStyle","uri","img","marginTop","itemTitleStyle","toString","toUpperCase","itemIngredientsStyle","flexDirection","marginBottom","marginLeft","fontSize","color","secondaryColor","marginRight","mainColor","container","Component","StyleSheet","create","height","width","backgroundColor","textColorPrimary","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","paddingLeft","paddingRight","itemTitleContainer","itemImageContainer","borderRadius","ingredientsContainer","textAlign","imageStyle","mapStateToProps","mapDispatchToProps","dispatch","removeStorageItem"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { Text, StyleSheet, Image , FlatList, View, Pressable, TextInput, NumberInput, SafeAreaView, ActivityIndicator  } from 'react-native';\r\nimport {Picker} from '@react-native-picker/picker';\r\nimport { col } from './clr';\r\nimport SomeComponent from './CustomBackground';\r\nimport { ScrollView } from 'react-native-gesture-handler';\r\nimport LoadingScreen from './loadingScreen';\r\nimport { connect, useSelector } from 'react-redux';\r\nimport { removeShoppingItem } from './reduxComponents/removeShoppingItemAction';\r\nimport { bindActionCreators } from 'redux';\r\n\r\n\r\n//const data=[{title:\"Spagetti\", imageUrl:\"https://www.edamam.com/web-img/39d/39d10063c69dd8c817be2c7f44175379.jpg\",ingredients:[\"egg\", \"flour\",\"milk\"]},{title:\"Spagetti\", imageUrl:\"https://www.edamam.com/web-img/39d/39d10063c69dd8c817be2c7f44175379.jpg\",ingredients:[\"egg\", \"flour\",\"milk\"]}];\r\n\r\nconst movieURL = \"https://api.edamam.com/api/recipes/v2?type=public&q=flour&app_id=61b96bf9&app_key=a28fc7e347025174ec9cfe2ea3fcfc63&field=label&field=image&field=ingredientLines\";\r\n\r\n\r\n\r\nclass RecepiesScreen extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      data:[],\r\n      isLoading:true,\r\n      apiKeyIndex:0\r\n    };\r\n  }\r\n  \r\n  componentDidMount(){\r\n    //useEffect(() => {console.log('CHANGE!!')},[this.state.storageData])\r\n    const getData_ = () => {\r\n      \r\n      let fridgeIngredients = ['sugar','flour']\r\n    let tempString = \"\"\r\n    for (let i = 0; i < fridgeIngredients.length; i++) {\r\n        if(i != 0){\r\n        tempString += \",+\" + fridgeIngredients[i] \r\n        }\r\n    }\r\n\r\n    const apiKeyDO = '8162cc1aa99341c8bb96708d0ff5f4fb' //Lan - 8402c0dff7ec4569957fbab674327b94\r\n    const apiKeyLV = '8402c0dff7ec4569957fbab674327b94'\r\n    const apiKeyAV = '82ec60ccd79449139c0e59e3cadf7de2'\r\n    const apiKeyAJ = '863fc421667e434a879b149b97e9ea4e';\r\n    const apiKeyList = [apiKeyLV,apiKeyDO,apiKeyAV,apiKeyAJ]\r\n\r\n    const recipeURL = 'https://api.spoonacular.com/recipes/findByIngredients?apiKey=' + apiKeyList[this.state.apiKeyIndex] + '&ingredients=%27'+ tempString  +'&number=10'\r\n\r\n    const getData1 = () => {\r\n        try {\r\n            fetch(recipeURL).then((response) => {\r\n              console.log(response.status)\r\n              if(response.status != 402){\r\n                response.json().then((data) => {\r\n                  let recipeList=[];\r\n                    for (let i = 0; i < 10; i++) {\r\n                        var tempList = [];\r\n        \r\n                        for (let y = 0; y < data[i].usedIngredientCount; y++) {\r\n                            tempList.push(\r\n                                {\r\n                                    \"name\" : data[i].usedIngredients[y].name,\r\n                                    \"amount\" : data[i].usedIngredients[y].amount,\r\n                                    \"unit\" : data[i].usedIngredients[y].unit\r\n                                }\r\n                            );\r\n                        }\r\n        \r\n        \r\n                        for (let y = 0; y < data[i].missedIngredientCount; y++) {\r\n                            tempList.push(\r\n                                {\r\n                                    \"name\" : data[i].missedIngredients[y].name,\r\n                                    \"amount\" : data[i].missedIngredients[y].amount,\r\n                                    \"unit\" : data[i].missedIngredients[y].unit\r\n                                }\r\n                            );\r\n        \r\n                        }\r\n        \r\n                        recipeList.push(\r\n                            {\r\n                                \"title\" : data[i].title,\r\n                                \"img\" : data[i].image,\r\n                                \"ing\" : tempList\r\n                            }\r\n                        );\r\n                  }\r\n                  this.setState({data:recipeList,isLoading:false})\r\n                })\r\n              }else{\r\n                this.setState({apiKeyIndex:this.state.apiKeyIndex + 1})\r\n                getData_()\r\n              }\r\n              \r\n            })\r\n            \r\n        } catch (err) {\r\n          console.log(err)\r\n        }\r\n\r\n    }\r\n    getData1();\r\n  }\r\n  getData_()\r\n  }\r\n\r\n  render(){ \r\n    console.log(this.props.dataReducer)\r\n  const renderItem = (item) => {\r\n      var ingredients = '';\r\n      item.ing.forEach(element => {\r\n          ingredients = ingredients + element.name + ' [ ' + element.amount + ' ' + element.unit + ' ]' + '\\n'\r\n      });\r\n\r\n      const addToCart = () =>{\r\n\r\n      } \r\n\r\n      return(\r\n          <View style={styles.itemContainer}>\r\n            <View style={{flex:8,justifyContent:'flex-start',alignItems:'center'}}>\r\n              <Image  style={styles.itemImageStyle} source={{uri: item.img}}/>\r\n            </View>\r\n            <View style={{flex:1,justifyContent:'flex-start',alignItems:'center',marginTop:30}}>\r\n                <Text style={styles.itemTitleStyle}>{item.title.toString().toUpperCase()}</Text>\r\n            </View>\r\n            <View style={{flex:4}}>\r\n              <ScrollView>\r\n                <Text style={styles.itemIngredientsStyle}>{ingredients.toUpperCase()}</Text>\r\n                </ScrollView>\r\n            </View>\r\n            <View style={{flex:1,alignItems:'flex-end',flexDirection:'row',marginBottom:18}}>\r\n                <Pressable style={{flex:1,justifyContent:'flex-start',marginTop:10,marginLeft:8}} onPress={addToCart}>\r\n                    <Text style={{fontSize:13,color:col.secondaryColor}}>CART</Text>\r\n                </Pressable>\r\n                <Pressable style={{flex:1,alignItems:'flex-end',marginRight:8}}>\r\n                    <Text style={{fontSize:13,color:col.mainColor}}>COLLECTION</Text>\r\n                </Pressable>\r\n            </View>\r\n          </View>\r\n      );\r\n  }\r\n    return (\r\n      <SafeAreaView style={styles.container}>\r\n      {this.state.isLoading ? ( <LoadingScreen/> ) : (<View style={styles.container}>\r\n            <SomeComponent style={{flex:1}}>\r\n                <FlatList horizontal data={this.state.data}\r\n            renderItem={({item}) =>renderItem(item)}/>\r\n            </SomeComponent>\r\n        </View>)}\r\n    </SafeAreaView>\r\n      );\r\n  }\r\n};\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n      flex: 1,\r\n    },\r\n      itemContainer:{\r\n        height:\"95%\",\r\n        width:350,\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        backgroundColor: col.textColorPrimary,\r\n        borderTopLeftRadius: 25,\r\n        borderTopRightRadius: 25,\r\n        borderBottomLeftRadius:25,\r\n        borderBottomRightRadius:25,\r\n        shadowColor: 'gray',\r\n        shadowOffset: {width: 0, height: 0},\r\n        shadowOpacity: 1,\r\n        shadowRadius: 8,\r\n        elevation: 8,\r\n        justifyContent: 'space-between',\r\n        paddingLeft: 16,\r\n        paddingRight: 16,\r\n        marginTop: 15,\r\n        marginBottom: 20,\r\n        marginLeft: 21,\r\n        marginRight: 15,\r\n      },\r\n      itemTitleContainer:{\r\n          flex:1,\r\n          alignItems:'center',\r\n          justifyContent:'center'\r\n      },\r\n      itemImageContainer:{\r\n          flex:1,\r\n        alignItems:'center',\r\n        justifyContent:'center',\r\n      },\r\n      itemImageStyle:{\r\n          width:320,height:320,borderRadius:20,marginTop:18\r\n      },\r\n      ingredientsContainer:{\r\n          flex:1,\r\n          alignItems:'center',\r\n          justifyContent:'center',\r\n      },\r\n      itemIngredientsStyle:{\r\n          color: '#D3D3D3',\r\n          fontSize: 13,\r\n          textAlign:'center',\r\n      },\r\n      itemTitleStyle:{\r\n        fontSize:20,\r\n        color:'white'\r\n      },\r\n      imageStyle:{\r\n        width:40,\r\n        height:40,\r\n      }\r\n  });\r\n\r\n  const mapStateToProps = (state) => {\r\n    const { dataReducer } = state\r\n    return { dataReducer }\r\n  };\r\n  const mapDispatchToProps = dispatch => (\r\n    bindActionCreators({\r\n      removeStorageItem: removeShoppingItem,\r\n    }, dispatch)\r\n  );\r\n  \r\n  export default connect(mapStateToProps, mapDispatchToProps)(RecepiesScreen);"]},"metadata":{},"sourceType":"module"}